# ============================================================================
# Stage 2: DCGAN (Deep Convolutional GAN) â€” Configuration
# ============================================================================

experiment:
  name: "dcgan-mnist"
  stage: "dcgan"
  seed: 42
  device: "auto"

# Dataset
data:
  dataset_name: "mnist"
  image_size: 64             # upscale to 64x64 for DCGAN
  batch_size: 128
  num_workers: 0
  shuffle: true

# Model architecture
model:
  latent_dim: 100
  n_channels: 1
  ngf: 64                   # generator feature map base
  ndf: 64                   # discriminator feature map base

  generator:
    architecture: "dcgan"
    use_batch_norm: true
    activation: "relu"
    output_activation: "tanh"

  discriminator:
    architecture: "dcgan"
    use_spectral_norm: true
    use_batch_norm: false    # not recommended with SpectralNorm
    activation: "leaky_relu"
    leaky_slope: 0.2

# Training
training:
  n_epochs: 100
  d_steps_per_g_step: 1

  optimizer_g:
    type: "adam"
    lr: 0.0002
    betas: [0.5, 0.999]

  optimizer_d:
    type: "adam"
    lr: 0.0002
    betas: [0.5, 0.999]

  label_smoothing: 0.1
  label_noise: 0.05
  gradient_penalty: false
  gradient_penalty_lambda: 10.0

  loss_type: "bce"

# Evaluation
evaluation:
  sample_interval: 5
  fid_interval: 10
  n_fid_samples: 10000
  inception_splits: 10
  n_interpolation_steps: 10

# Logging
logging:
  tensorboard: true
  log_dir: "outputs/tensorboard"
  save_interval: 10
  log_every_n_steps: 50

# Paths
paths:
  data_dir: "data/datasets"
  models_dir: "outputs/models/dcgan"
  samples_dir: "outputs/samples"
  interpolations_dir: "outputs/interpolations"
